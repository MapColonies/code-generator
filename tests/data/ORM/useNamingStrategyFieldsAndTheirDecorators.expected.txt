/* This file was auto-generated by MC-GENERATOR, DO NOT modify it manually */
/* eslint-disable import/exports-last, @typescript-eslint/ban-types, @typescript-eslint/no-inferrable-types */
import { Column, PrimaryGeneratedColumn, Index, Check } from "typeorm";
import { Polygon } from "geojson";

@Check('"imaging_time_begin_utc" < imagingTimeEndUTC')
export class Metadata {

    @PrimaryGeneratedColumn('uuid', { name: 'id' })
    public id!: string;

    @Column({ name: 'product_id', type: 'text', nullable: false, collation: 'C.UTF-8' })
    @Index()
    @Check('"product_id" ~ "^[A-Za-z]{1}[A-Za-z0-9_]{0,62}$"')
    public productId!: string;

    @Column({ name: 'source_resolution_meter', type: 'numeric', nullable: false })
    @Check('"source_resolution_meter" BETWEEN 0.0185 AND 78271.52')
    public sourceResolutionMeter!: number;

    @Column({ name: 'imaging_time_begin_utc', type: 'timestamp with time zone', nullable: false })
    @Index()
    @Check('"imaging_time_begin_utc" < now()')
    public imagingTimeBeginUTC!: Date;

    @Column({ name: 'footprint', type: 'geometry', spatialFeatureType: 'Polygon', srid: 4326, nullable: false })
    @Index({ spatial: true })
    @Check("ST_IsValid('footprint')")
    @Check("Box2D('footprint') @Box2D(ST_GeomFromText('LINESTRING(-180 -90, 180 90)'))")
    public footprint!: Polygon;
}
